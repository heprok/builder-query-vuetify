var VuetifyQueryBuilder=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],u=!0,l=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(u=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);u=!0);}catch(e){l=!0,n=e}finally{try{u||null==a.return||a.return()}finally{if(l)throw n}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,u=new Array(t);r<t;r++)u[r]=e[r];return u}var l=function t(r){if(Array.isArray(r))return r.map(t);if(r&&"object"===e(r)){var u={};return Object.keys(r).forEach((function(e){u[e]=t(r[e])})),u}return r},n=function(e){switch(e){case a.EQUAL:return"is equal";case a.N_EQUAL:return"is not equal";case a.CONTAINS:return"contains";case a.N_CONTAINS:return"not contains";case a.EMPTY:return"is empty";case a.N_EMPTY:return"is not empty";case a.BEGINS_WITH:return"begins with";case a.ENDS_WITH:return"ends with";case a.GREATER:return"is greater";case a.GREATER_OR_EQUAL:return"is greater or equals";case a.SMALLER:return"is smaller";case a.SMALLER_OR_EQUAL:return"is smaller or equals"}return"--- error, not defined ---"},o={NUMBER:0,TEXT:1,SELECT:2,MULTI_SELECT:3,DATE:4,TIME:5,BOOL:6,AGGREGATE:7,BOOL_INPUT:8,CURRENCY:9},a={EQUAL:0,N_EQUAL:1,CONTAINS:2,N_CONTAINS:3,EMPTY:4,N_EMPTY:5,BEGINS_WITH:6,ENDS_WITH:7,GREATER:8,GREATER_OR_EQUAL:9,SMALLER:10,SMALLER_OR_EQUAL:11};function i(e,t,r,u,l,n,o,a,i,s){"boolean"!=typeof o&&(i=a,a=o,o=!1);const d="function"==typeof r?r.options:r;let c;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,l&&(d.functional=!0)),u&&(d._scopeId=u),n?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,i(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},d._ssrRegister=c):t&&(c=o?function(e){t.call(this,s(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),c)if(d.functional){const e=d.render;d.render=function(t,r){return c.call(r),e(t,r)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,c):[c]}return r}var s={name:"query-builder-group",components:{QueryBuilderRule:i({render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"vqb-rule"},[r("v-card-text",[r("v-btn",{staticClass:"remove-button",attrs:{color:"error","x-small":""},on:{click:e.remove}},[r("v-icon",{attrs:{"x-small":""}},[e._v("fa-times")])],1),e._v(" "),r("v-row",[r("v-col",{staticClass:"d-flex align-center text-break",attrs:{cols:"12",sm:"6",md:"2"}},[r("b",[e._v(e._s(e.rule.label))])]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{"hide-details":"",items:e.mappedOperators,outlined:"",dense:"",label:"Rule"},model:{value:e.query.operator,callback:function(t){e.$set(e.query,"operator",t)},expression:"query.operator"}})],1),e._v(" "),e.query.operator!==e.OperatorType.EMPTY&&e.query.operator!==e.OperatorType.N_EMPTY?r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[e.rule.inputType===e.RuleTypes.TEXT?r("v-text-field",{attrs:{"hide-details":"",outlined:"",type:"text",dense:"",label:"Value"},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}}):e._e(),e._v(" "),e.rule.inputType===e.RuleTypes.NUMBER||e.rule.inputType===e.RuleTypes.AGGREGATE||e.rule.inputType===e.RuleTypes.CURRENCY?r("v-text-field",{attrs:{"hide-details":"",outlined:"",type:"number",dense:"",label:"Value"},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}}):e._e(),e._v(" "),e.rule.inputType===e.RuleTypes.SELECT||e.rule.inputType===e.RuleTypes.MULTI_SELECT?r("v-select",{attrs:{"hide-details":"",dense:"",items:e.selectOptions,multiple:e.rule.inputType===e.RuleTypes.MULTI_SELECT,outlined:"",label:"Value"},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}}):e._e(),e._v(" "),e.rule.inputType===e.RuleTypes.BOOL||e.rule.inputType===e.RuleTypes.BOOL_INPUT?r("v-select",{attrs:{"hide-details":"",dense:"",items:e.boolOptions,outlined:"",label:"Value"},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}}):e._e(),e._v(" "),e.rule.inputType===e.RuleTypes.DATE?r("v-dialog",{ref:"dialog2",attrs:{"return-value":e.query.value,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.query,"value",t)},"update:return-value":function(t){return e.$set(e.query,"value",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var u=t.on;return[r("v-text-field",e._g({attrs:{outlined:"",label:"Value",dense:"","prepend-icon":"far fa-calendar-alt",readonly:""},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}},u))]}}],null,!1,405712533),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),e.modal?r("v-date-picker",{attrs:{"full-width":""},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$refs.dialog2.save(e.query.value)}}},[e._v("OK")])],1):e._e()],1):e._e(),e._v(" "),e.rule.inputType===e.RuleTypes.TIME?r("v-dialog",{ref:"dialog",attrs:{"return-value":e.query.value,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.query,"value",t)},"update:return-value":function(t){return e.$set(e.query,"value",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var u=t.on;return[r("v-text-field",e._g({attrs:{outlined:"",label:"Value",dense:"","prepend-icon":"far fa-clock",readonly:""},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}},u))]}}],null,!1,2329567163),model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[e._v(" "),e.modal2?r("v-time-picker",{attrs:{"full-width":""},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.modal2=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.query.value)}}},[e._v("OK")])],1):e._e()],1):e._e()],1):e._e()],1)],1)],1)},staticRenderFns:[]},undefined,{name:"query-builder-rule",props:["query","index","rule","labels"],data:function(){return{modal:!1,date:null,modal2:!1,time:null,boolOptions:[{text:"TRUE",value:!0},{text:"FALSE",value:!1}],RuleTypes:o,OperatorType:a,mappedOperators:(e=this.rule.operators,e.map((function(e){return{text:n(e),value:e}})))};var e},beforeMount:function(){"custom-component"===this.rule.type&&(this.$options.components[this.id]=this.rule.component)},methods:{remove:function(){this.$emit("child-deletion-requested",this.index)},updateQuery:function(e){var t=l(this.query);t.value=e,this.$emit("update:query",t)}},computed:{selectOptions:function(){return void 0===this.rule.options?{}:this.rule.options.map((function(e){return{text:e.label,value:e.value}}))}},mounted:function(){var e=l(this.query);null===this.query.value&&("checkbox"===this.rule.inputType&&(e.value=[]),"select"===this.rule.type&&(e.value=this.rule.choices[0].value),"custom-component"===this.rule.type&&(e.value=this.rule.default||null),this.$emit("update:query",e))}},undefined,false,undefined,!1,void 0,void 0,void 0)},props:["ruleTypes","type","query","rules","index","maxDepth","depth","labels"],methods:{tryAddRule:function(){this.showRuleDialog=!0},ruleById:function(e){return this.rules.find((function(t){return t.id===e}))},addRule:function(){this.showRuleDialog=!1;var e=l(this.query);e.children.push({type:"rule",query:{id:this.selectedRule.id,operator:this.selectedRule.operators[0],value:null,ruleType:this.selectedRule.type}}),this.$emit("update:query",e)},addGroup:function(){var e=l(this.query);this.depth<this.maxDepth&&(e.children.push({type:"group",query:{operator:this.labels.matchTypeAll,children:[]}}),this.$emit("update:query",e))},remove:function(){this.$emit("child-deletion-requested",this.index)},removeChild:function(e){var t=l(this.query);t.children.splice(e,1),this.$emit("update:query",t)},prepareRules:function(e){var t=this.rulesList.map((function(e){return"".concat(e.value.id)})),r=l(e),u=r.children.length;r.children=r.children.filter((function(e){return"rule"!==e.type||t.includes("".concat(e.query.id))})),u!==r.children.length&&this.$emit("update:query",r)}},data:function(){return{showRuleDialog:!1,fab:!1,selectedRule:this.rules[0],logicalOperatorList:[this.labels.matchTypeAll,this.labels.matchTypeAny]}},watch:{query:{deep:!0,handler:function(e){this.prepareRules(e)}}},computed:{rulesList:function(){return this.rules.map((function(e){return{text:e.label,value:e}}))},classObject:function(){var e={};return e["depth-"+this.depth.toString()]=!0,e}},mounted:function(){this.prepareRules(this.query)}};const d="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function c(e){return(e,t)=>function(e,t){const r=d?t.media||"default":e,u=v[r]||(v[r]={ids:new Set,styles:[]});if(!u.ids.has(e)){u.ids.add(e);let r=t.source;if(t.map&&(r+="\n/*# sourceURL="+t.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),u.element||(u.element=document.createElement("style"),u.element.type="text/css",t.media&&u.element.setAttribute("media",t.media),void 0===p&&(p=document.head||document.getElementsByTagName("head")[0]),p.appendChild(u.element)),"styleSheet"in u.element)u.styles.push(r),u.element.styleSheet.cssText=u.styles.filter(Boolean).join("\n");else{const e=u.ids.size-1,t=document.createTextNode(r),l=u.element.childNodes;l[e]&&u.element.removeChild(l[e]),l.length?u.element.insertBefore(t,l[e]):u.element.appendChild(t)}}}(e,t)}let p;const v={};var y={matchType:"Match Type",matchTypeAll:"All",matchTypeAny:"Any",addRule:"Add Rule",removeRule:"&times;",addGroup:"Add Group",removeGroup:"&times;",textInputPlaceholder:"value"},m=i({render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vue-query-builder vue-query-builder-styled"},[r("query-builder-group",{attrs:{index:0,query:e.query,ruleTypes:e.ruleTypes,rules:e.mergedRules,maxDepth:e.maxDepth,depth:e.depth,labels:e.mergedLabels,type:"query-builder-group"},on:{"update:query":function(t){e.query=t}}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-4d329766_0",{source:".vue-query-builder-styled .vqb-group .rule-actions{margin-bottom:20px}.vue-query-builder-styled .vqb-rule{margin-top:15px;margin-bottom:15px}.vue-query-builder-styled .vqb-rule label{margin-right:10px}.vue-query-builder-styled .vqb-group.depth-1 .vqb-rule,.vue-query-builder-styled .vqb-group.depth-2{border-left:2px solid #8bc34a}.vue-query-builder-styled .vqb-group.depth-2 .vqb-rule,.vue-query-builder-styled .vqb-group.depth-3{border-left:2px solid #00bcd4}.vue-query-builder-styled .vqb-group.depth-3 .vqb-rule,.vue-query-builder-styled .vqb-group.depth-4{border-left:2px solid #ff5722}",map:void 0,media:void 0})}),{name:"vuetify-query-builder",components:{QueryBuilderGroup:i({render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"vqb-group",class:e.classObject},[r("v-card-title",[r("v-select",{attrs:{items:e.logicalOperatorList,label:e.labels.matchType,outlined:"","hide-details":"",dense:""},model:{value:e.query.operator,callback:function(t){e.$set(e.query,"operator",t)},expression:"query.operator"}}),e._v(" "),this.depth>1?r("v-btn",{staticClass:"remove-button",attrs:{color:"error","x-small":""},on:{click:e.remove}},[r("v-icon",{attrs:{"x-small":""}},[e._v("fa-times")])],1):e._e()],1),e._v(" "),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-divider")],1),e._v(" "),r("v-col",{staticClass:"speed-dial-container",attrs:{cols:"12"}},[r("v-btn",{attrs:{color:"primary",small:""},on:{click:e.tryAddRule}},[e._v("\n                    Add Rule\n                ")]),e._v(" "),this.depth<this.maxDepth?r("v-btn",{attrs:{color:"primary",small:""},on:{click:e.addGroup}},[e._v("\n                    Add Groups\n                ")]):e._e()],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"group-child px-5 py-2"},[0===e.query.children.length?r("v-alert",{attrs:{dense:"",text:"",type:"info"}},[e._v("\n                        No rules here! Add some "),r("b",[e._v("rules")]),e._v(" or "),r("b",[e._v("group of rules")]),e._v(" using button above.\n                    ")]):e._e(),e._v(" "),e._l(e.query.children,(function(t,u){return r("rule"===t.type?"query-builder-rule":"query-builder-group",{key:u,tag:"component",attrs:{type:t.type,query:t.query,ruleTypes:e.ruleTypes,rules:e.rules,rule:e.ruleById(t.query.id),index:u,maxDepth:e.maxDepth,depth:e.depth+1,labels:e.labels},on:{"update:query":function(r){return e.$set(t,"query",r)},"child-deletion-requested":e.removeChild}})}))],2)])],1)],1),e._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"800"},model:{value:e.showRuleDialog,callback:function(t){e.showRuleDialog=t},expression:"showRuleDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Add new rule")]),e._v(" "),r("v-card-text",[r("p",[e._v("Select an element to describe the rules")]),e._v(" "),r("v-autocomplete",{attrs:{items:e.rulesList,label:"Select rule",outlined:""},model:{value:e.selectedRule,callback:function(t){e.selectedRule=t},expression:"selectedRule"}})],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.showRuleDialog=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:e.addRule}},[e._v("Add new rule")])],1)],1)],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-49d1e684_0",{source:".group-child>div:not(:first-of-type){margin-top:25px}.vqb-group .remove-button{position:absolute;right:10px;top:-10px}.speed-dial-container{margin-top:-39px}.speed-dial-container button{margin-right:5px}",map:void 0,media:void 0})}),s,undefined,false,undefined,!1,c,void 0,void 0)},props:{rules:Array,labels:{type:Object,default:function(){return y}},maxDepth:{type:Number,default:3,validator:function(e){return e>=1}},value:Object},data:function(){var e;return{depth:1,query:{operator:"All",children:[]},ruleTypes:(e={},t(e,o.AGGREGATE,{operators:[a.EQUAL,a.N_EQUAL,a.EMPTY,a.N_EMPTY,a.GREATER,a.GREATER_OR_EQUAL,a.SMALLER,a.SMALLER_OR_EQUAL],inputType:o.AGGREGATE}),t(e,o.DATE,{operators:[a.EQUAL,a.N_EQUAL,a.EMPTY,a.N_EMPTY,a.GREATER,a.GREATER_OR_EQUAL,a.SMALLER,a.SMALLER_OR_EQUAL],inputType:o.DATE}),t(e,o.TIME,{operators:[a.EQUAL,a.N_EQUAL,a.EMPTY,a.N_EMPTY,a.GREATER,a.GREATER_OR_EQUAL,a.SMALLER,a.SMALLER_OR_EQUAL],inputType:o.TIME}),t(e,o.BOOL,{operators:[a.EQUAL,a.N_EQUAL,a.EMPTY,a.N_EMPTY],inputType:o.BOOL}),t(e,o.BOOL_INPUT,{operators:[a.EQUAL,a.N_EQUAL,a.EMPTY,a.N_EMPTY],inputType:o.BOOL_INPUT}),t(e,o.TEXT,{operators:[a.EQUAL,a.N_EQUAL,a.CONTAINS,a.N_CONTAINS,a.EMPTY,a.N_EMPTY,a.BEGINS_WITH,a.ENDS_WITH],inputType:o.TEXT}),t(e,o.NUMBER,{operators:[a.EQUAL,a.N_EQUAL,a.CONTAINS,a.N_CONTAINS,a.GREATER,a.GREATER_OR_EQUAL,a.SMALLER,a.SMALLER_OR_EQUAL],inputType:o.NUMBER}),t(e,o.CURRENCY,{operators:[a.EQUAL,a.N_EQUAL,a.CONTAINS,a.N_CONTAINS,a.GREATER,a.GREATER_OR_EQUAL,a.SMALLER,a.SMALLER_OR_EQUAL],inputType:o.NUMBER}),t(e,o.SELECT,{operators:[a.EQUAL,a.N_EQUAL],inputType:o.SELECT}),t(e,o.MULTI_SELECT,{operators:[a.EQUAL,a.N_EQUAL,a.CONTAINS,a.N_CONTAINS,a.GREATER,a.GREATER_OR_EQUAL,a.SMALLER,a.SMALLER_OR_EQUAL,a.EMPTY,a.N_EMPTY],inputType:o.MULTI_SELECT}),e)}},computed:{mergedLabels:function(){return Object.assign({},y,this.labels)},mergedRules:function(){var e=[],t=this;return this.rules.forEach((function(r){void 0!==t.ruleTypes[r.type]?e.push(Object.assign({},t.ruleTypes[r.type],r)):e.push(r)})),e}},mounted:function(){var e=this;this.$watch("query",(function(t){e.$emit("input",l(t))}),{deep:!0}),void 0!==this.$options.propsData.value&&(this.query=Object.assign(this.query,this.$options.propsData.value))}},undefined,false,undefined,!1,c,void 0,void 0),f=function(){var e=m;return e.install=function(t){t.component("VuetifyQueryBuilder",e)},e}(),h=Object.freeze({__proto__:null,default:f});return Object.entries(h).forEach((function(e){var t=r(e,2),u=t[0],l=t[1];"default"!==u&&(f[u]=l)})),f}();